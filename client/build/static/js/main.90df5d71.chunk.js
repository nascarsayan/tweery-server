(this["webpackJsonptweery-client"]=this["webpackJsonptweery-client"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(86),n(17)),l=n.n(c),s=n(50),u=n(21),p=n(22),h=n(29),f=n(24),d=n(23),m=n(28),w=n(69),g=n.n(w),v=n(30),k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={ind:{lat:[6.5546079,35.6745457],lng:[68.1113787,97.395561]},activeMarker:{},selectedPlace:{title:""},showingInfoWindow:!1},n.onMarkerClick=function(e,t){return n.setState({activeMarker:t,selectedPlace:e,showingInfoWindow:!0})},n.onInfoWindowClose=function(){return n.setState({activeMarker:null,showingInfoWindow:!1})},n.onMapClicked=function(){n.state.showingInfoWindow&&n.setState({activeMarker:null,showingInfoWindow:!1})},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.ind,n=t.lat,a=t.lng,o=e.selectedPlace.title,i=this.props.points,c=this.onMapClicked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,o),r.a.createElement(v.Map,{style:{width:"100%",height:"90vh",position:"relative"},google:this.props.google,zoom:5,onClick:c,initialCenter:{lat:(n[0]+n[1])/2,lng:(a[0]+a[1])/2}},i.map((function(e,t){var n=e.place.bounding_box.coordinates[0],a=n.reduce((function(e,t){return parseFloat(e)+parseFloat(t[1])}),0)/n.length,o=n.reduce((function(e,t){return parseFloat(e)+parseFloat(t[0])}),0)/n.length;return r.a.createElement(v.Marker,{name:e.place.name,key:"".concat(t),onClick:function(){return window.open(e.place.url,"_blank")},position:{lat:a,lng:o},title:e.text})}))))}}]),t}(a.Component),y=Object(v.GoogleApiWrapper)({apiKey:"AIzaSyBFh8igN1Toe_7D4RrFpLouR_F64HcgHkw"})(k),b=n(74),O=n(136),j=n(137),E=n(138),S=n(135),C=n(139),M=n(70),F=n.n(M),W=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={points:[],term:""},n.onSearch=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:3002/api/query/recent?term=".concat(t));case 2:a=e.sent,n.setState({points:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.dateToJSON=function(e){var t=new Date(e);return t.setMinutes(e.getMinutes()-e.getTimezoneOffset()),t.toJSON().slice(0,10)},n.onDownload=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(d.a)(n),r=a.state.term,o=n.dateToJSON(new Date),F()(JSON.stringify(t,null,2),"".concat(r,"-").concat(o,".json"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.points,a=t.term,o=this.onSearch,i=this.onDownload;return r.a.createElement(j.a,{full:!0,theme:b.grommet},r.a.createElement(E.a,{align:"center",justify:"start",pad:"medium"},r.a.createElement(E.a,{width:"medium"},r.a.createElement(S.a,{placeholder:"Search For",value:a,onChange:function(t){return e.setState({term:t.target.value})},onKeyDown:function(e){"Enter"===e.key&&o(a)}})),r.a.createElement(C.a,{icon:r.a.createElement(O.a,null),onClick:function(e){return i(n)}})),r.a.createElement(E.a,null,r.a.createElement(y,{points:n})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,n){e.exports=n(126)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.90df5d71.chunk.js.map